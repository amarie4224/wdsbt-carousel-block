{"version":3,"file":"view.js","mappings":"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","sources":["webpack://wdsbt-carousel-block/./src/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* eslint-disable no-console */\nconsole.log( 'Hello World! (from wdsbt-wdsbt-carousel-block block)' );\n/* eslint-enable no-console */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    const carousels = document.querySelectorAll('.wp-block-wdsbt-wdsbt-carousel-block');\n\n    carousels.forEach(carousel => {\n        const container = carousel.querySelector('.carousel-container');\n        const slides = carousel.querySelectorAll('.carousel-slide');\n        const dots = carousel.querySelectorAll('.carousel-dots button');\n        const prevButton = carousel.querySelector('.prev-slide');\n        const nextButton = carousel.querySelector('.next-slide');\n        const scrollbar = carousel.querySelector('.carousel-scrollbar');\n        const scrollbarThumb = carousel.querySelector('.carousel-scrollbar-thumb');\n\n        function updateNavigation() {\n            const scrollPosition = container.scrollLeft;\n            const maxScroll = container.scrollWidth - container.clientWidth;\n\n            // Update buttons\n            if (prevButton) prevButton.disabled = scrollPosition <= 0;\n            if (nextButton) nextButton.disabled = scrollPosition >= maxScroll;\n\n            // Update dots\n            const slideWidth = slides[0].offsetWidth + parseInt(getComputedStyle(carousel).getPropertyValue('--gap'));\n            const currentSlide = Math.round(scrollPosition / slideWidth);\n            dots.forEach((dot, index) => {\n                dot.classList.toggle('active', index === currentSlide);\n            });\n        }\n\n        function scrollToSlide(index) {\n            const slideWidth = slides[0].offsetWidth + parseInt(getComputedStyle(carousel).getPropertyValue('--gap'));\n            container.scrollTo({\n                left: slideWidth * index,\n                behavior: 'smooth'\n            });\n        }\n\n        // Dot navigation\n        dots.forEach((dot, index) => {\n            dot.addEventListener('click', () => scrollToSlide(index));\n        });\n\n        // Button navigation\n        if (prevButton) {\n            prevButton.addEventListener('click', () => {\n                const slideWidth = slides[0].offsetWidth + parseInt(getComputedStyle(carousel).getPropertyValue('--gap'));\n                container.scrollBy({\n                    left: -slideWidth,\n                    behavior: 'smooth'\n                });\n            });\n        }\n\n        if (nextButton) {\n            nextButton.addEventListener('click', () => {\n                const slideWidth = slides[0].offsetWidth + parseInt(getComputedStyle(carousel).getPropertyValue('--gap'));\n                container.scrollBy({\n                    left: slideWidth,\n                    behavior: 'smooth'\n                });\n            });\n        }\n\n        // Update navigation on scroll and resize\n        container.addEventListener('scroll', updateNavigation);\n        window.addEventListener('resize', updateNavigation);\n\n        // Initial update\n        updateNavigation();\n\n        if (scrollbar && scrollbarThumb) {\n            // Update thumb position and width\n            function updateScrollbarThumb() {\n                const scrollPercentage = container.scrollLeft / (container.scrollWidth - container.clientWidth);\n                const thumbWidth = (container.clientWidth / container.scrollWidth) * 100;\n                const thumbPosition = scrollPercentage * (100 - thumbWidth);\n\n                scrollbarThumb.style.width = `${Math.max(thumbWidth, 10)}%`;\n                scrollbarThumb.style.left = `${thumbPosition}%`;\n            }\n\n            // Initial update\n            updateScrollbarThumb();\n\n            // Update on scroll\n            container.addEventListener('scroll', updateScrollbarThumb);\n\n            // Handle scrollbar click (jump to position)\n            scrollbar.addEventListener('click', (e) => {\n                if (e.target === scrollbarThumb) return; // Don't handle clicks on thumb\n\n                const clickPosition = e.offsetX / scrollbar.offsetWidth;\n                const scrollAmount = clickPosition * (container.scrollWidth - container.clientWidth);\n                container.scrollTo({\n                    left: scrollAmount,\n                    behavior: 'smooth'\n                });\n            });\n\n            // Handle thumb dragging\n            let isDragging = false;\n            let startX;\n            let scrollLeft;\n            let thumbStartX;\n\n            scrollbarThumb.addEventListener('mousedown', (e) => {\n                isDragging = true;\n                thumbStartX = e.clientX - scrollbarThumb.offsetLeft;\n                scrollLeft = container.scrollLeft;\n\n                // Prevent text selection while dragging\n                document.body.style.userSelect = 'none';\n            });\n\n            document.addEventListener('mousemove', (e) => {\n                if (!isDragging) return;\n                e.preventDefault();\n\n                const thumbX = e.clientX - scrollbar.getBoundingClientRect().left;\n                const newThumbPosition = thumbX - thumbStartX;\n\n                // Calculate the scroll position based on thumb position\n                const scrollableWidth = container.scrollWidth - container.clientWidth;\n                const thumbTrackWidth = scrollbar.offsetWidth - scrollbarThumb.offsetWidth;\n                const scrollRatio = scrollableWidth / thumbTrackWidth;\n\n                const newScrollPosition = Math.max(0, Math.min(\n                    scrollableWidth,\n                    newThumbPosition * scrollRatio\n                ));\n\n                container.scrollLeft = newScrollPosition;\n            });\n\n            document.addEventListener('mouseup', () => {\n                isDragging = false;\n                document.body.style.userSelect = '';\n            });\n\n            // Handle window resize\n            window.addEventListener('resize', updateScrollbarThumb);\n        }\n    });\n});\n"],"names":["console","log","document","addEventListener","carousels","querySelectorAll","forEach","carousel","container","querySelector","slides","dots","prevButton","nextButton","scrollbar","scrollbarThumb","updateNavigation","scrollPosition","scrollLeft","maxScroll","scrollWidth","clientWidth","disabled","slideWidth","offsetWidth","parseInt","getComputedStyle","getPropertyValue","currentSlide","Math","round","dot","index","classList","toggle","scrollToSlide","scrollTo","left","behavior","scrollBy","window","updateScrollbarThumb","scrollPercentage","thumbWidth","thumbPosition","style","width","max","e","target","clickPosition","offsetX","scrollAmount","isDragging","startX","thumbStartX","clientX","offsetLeft","body","userSelect","preventDefault","thumbX","getBoundingClientRect","newThumbPosition","scrollableWidth","thumbTrackWidth","scrollRatio","newScrollPosition","min"],"sourceRoot":""}